<!DOCTYPE html>

{% load staticfiles %} <!--ne information, damit das django-template-system weiss, dass wir static media nutzen-->
<html>
    <head>
        <title>Rango</title>
    </head>

    <body>
        {% if user.is_authenticated %}
        <!-- das folgende sollte ich erklären: warum kann ich hier einfach auf
            user.username zugreifen? Das liegt daran, dass so ein context-dictionary
            was ich mitgebe, nicht das einzige ist, was der tatsächliche Context
            ist, der dem template zur Verfügung steht. Siehe für weiteres zum Beispiel
            folgenden Link: https://stackoverflow.com/questions/20957388/what-is-a-context-in-django
            und die Dokumentation-->
        <h1>Sei gegrüßt {{ user.username }}!</h1>
        {% else %}
        <h1>Philipp sagt: Hallo ihr Speckmöpse!</h1>
        {% endif %}
        <div id="categoryList">
        {% if categories %}
            <ul>
                {% for category in categories %}
                <li><a href="/rango/category/{{category.slug}}">{{ category.name }}</a></li>
		        {% endfor %}
	        </ul>
	    {% else %}
	        <strong> There are no categories present.</strong>
	    {% endif %} 
        </div>
        <div id="topPagesList">
            <h2>Top-Pages</h2>
            {% if pages %}
                <ul>
                    {% for page in pages %}
                    <li><a href="{{page.url}}">{{page.title}}</a> ({{page.views}} Views)</li>
                    {% endfor %}
                </ul>
            {% else %}
                <strong> There are no categories present. </strong>
            {% endif %}
        </div>
        <img src="{% static "images/rango.jpg" %}" alt="pikturisierter Rangoianer" /> <!-- wir wollen hier ein image aus unserem static-unterordner images reinpacken und zwar rango.jpg-->
        <p>
            <a href="/rango/add_category/"> Add a new category!</a><br />
            <a href="/rango/register/">Register here!</a><br />
            <a href="/rango/about/">About</a><br />
            <a href="/rango/login/">Login</a><br />
        </p>
    </body>
</html>
